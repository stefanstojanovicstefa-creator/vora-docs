{
  "project": "Vora Voice Platform",
  "branchName": "ralph/phase-2-verify-quick-wins",
  "description": "Phase 2: Verify & Quick Wins - Remove sidebar clutter, fix security gaps, rebrand, and verify billing/OAuth/functions/memory pipelines. IMPORTANT: The codebase is at ventus-voice/frontend/ and ventus-voice/backend/ (NOT at project root frontend/ backend/).",
  "userStories": [
    {
      "id": "US-201",
      "title": "Remove 'Usage & Cost' from sidebar",
      "description": "As a user, I don't want to see a developer-oriented 'Usage & Cost' entry in the sidebar. Remove the sidebar entry but keep the /cost-analytics page accessible via direct URL.",
      "acceptanceCriteria": [
        "IMPORTANT: Code is at ventus-voice/frontend/src/ and ventus-voice/backend/src/ (NOT root frontend/ or backend/)",
        "Find the sidebar navigation items in ventus-voice/frontend/src/components/layout/Sidebar.tsx",
        "Remove the 'Usage & Cost' or 'cost-analytics' sidebar entry object",
        "Do NOT delete the /cost-analytics route or page component",
        "Verify sidebar renders correctly with remaining items (no layout shift or broken styles)",
        "No console errors or broken links",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "Removed /cost-analytics nav entry from Sidebar.tsx links array. Removed unused DollarSign import. Route and page component preserved. Typecheck passes."
    },
    {
      "id": "US-202",
      "title": "Remove 'Monitoring' from sidebar",
      "description": "As a user, I don't want to see a technical 'Monitoring' entry in the sidebar. Remove the sidebar entry but keep the /monitoring page accessible via direct URL.",
      "acceptanceCriteria": [
        "IMPORTANT: Code is at ventus-voice/frontend/src/ and ventus-voice/backend/src/ (NOT root frontend/ or backend/)",
        "Find the 'Monitoring' sidebar entry in ventus-voice/frontend/src/components/layout/Sidebar.tsx",
        "Remove the 'Monitoring' sidebar entry object",
        "Do NOT delete the /monitoring route or page component",
        "Verify sidebar renders correctly with remaining items",
        "No console errors or broken links",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": "Removed /monitoring nav entry from Sidebar.tsx links array. Removed unused Activity import from lucide-react. Route /monitoring and MonitoringDashboard page component preserved (accessible via direct URL). Typecheck passes."
    },
    {
      "id": "US-203",
      "title": "Rename 'Ventus Voice' to 'Vora Voice' in user-facing UI",
      "description": "As a user, I want all branding to say 'Vora Voice' consistently. Find and replace all user-facing 'Ventus Voice' references in the frontend.",
      "acceptanceCriteria": [
        "IMPORTANT: Code is at ventus-voice/frontend/src/ and ventus-voice/backend/src/ (NOT root frontend/ or backend/)",
        "Fix known reference at ventus-voice/frontend/src/pages/DocumentationPage.tsx (around line 44)",
        "Grep ventus-voice/frontend/src/ for 'Ventus Voice' (case-insensitive) and replace ALL user-facing occurrences with 'Vora Voice'",
        "Do NOT rename internal code identifiers, file names, directory names, or backend references (that is Phase 5)",
        "Do NOT rename the 'ventus-voice' directory itself",
        "Verify no broken functionality from the rename",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": true,
      "notes": "Replaced all 8 user-facing 'Ventus Voice' occurrences with 'Vora Voice' across 3 files: OnboardingWizard.tsx (3 occurrences), DocumentationPage.tsx (4 occurrences), Navigation.tsx (2 occurrences - aria-label + visible text). No internal identifiers, file names, or directory names changed. Typecheck passes."
    },
    {
      "id": "US-204",
      "title": "Fix admin pricing auth middleware (security)",
      "description": "As a platform owner, I need admin pricing CRUD endpoints protected by auth middleware so regular users cannot modify pricing data.",
      "acceptanceCriteria": [
        "IMPORTANT: Code is at ventus-voice/frontend/src/ and ventus-voice/backend/src/ (NOT root frontend/ or backend/)",
        "Find pricing routes in ventus-voice/backend/src/routes/pricing.routes.ts",
        "Identify pricing CRUD endpoints (create, update, delete) that lack auth middleware",
        "Add requireAuth + requireGodMode (or equivalent admin check) to all pricing modification endpoints",
        "GET/list pricing endpoints remain accessible to regular authenticated users",
        "Verify requireGodMode middleware exists and works (check middleware directory)",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-205",
      "title": "Verify Paddle billing code paths and env vars",
      "description": "As a developer, I need to verify the Paddle billing system code is correctly wired: env vars match, webhook verification uses HMAC-SHA256, subscription routes handle lifecycle events, and pricing endpoint returns actual data.",
      "acceptanceCriteria": [
        "IMPORTANT: Code is at ventus-voice/frontend/src/ and ventus-voice/backend/src/ (NOT root frontend/ or backend/)",
        "Trace subscription routes: find ventus-voice/backend/src/routes/subscription.routes.ts (or similar paddle/billing routes)",
        "Verify webhook handler has HMAC-SHA256 signature verification (not placeholder)",
        "Verify PADDLE_API_KEY, PADDLE_WEBHOOK_SECRET env vars are read correctly in code",
        "Verify subscription lifecycle handlers exist: subscribe, cancel, update, webhook",
        "Verify customer portal redirect endpoint exists and uses correct Paddle portal URL",
        "Verify pricing endpoint returns actual plan data (not empty array or placeholder)",
        "If any code path is broken or placeholder, fix it",
        "Typecheck passes"
      ],
      "priority": 5,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-206",
      "title": "Verify OAuth routes and token refresh logic",
      "description": "As a developer, I need to verify OAuth infrastructure is correctly coded: authorize URL generation, callback handling, token persistence, and auto-refresh logic.",
      "acceptanceCriteria": [
        "IMPORTANT: Code is at ventus-voice/frontend/src/ and ventus-voice/backend/src/ (NOT root frontend/ or backend/)",
        "Find OAuth routes in ventus-voice/backend/src/routes/ (oauth.routes.ts, integrations.routes.ts, or similar)",
        "Verify authorize endpoint generates correct OAuth URLs for Google, Slack, HubSpot (at minimum)",
        "Verify callback endpoint handles token exchange and persists tokens to database",
        "Verify token refresh logic exists with automatic refresh before expiry",
        "Verify provider configs (scopes, redirect URIs) are correctly set for top providers",
        "If any critical code path is broken (compile error, missing import, dead code), fix it",
        "Typecheck passes"
      ],
      "priority": 6,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-207",
      "title": "Verify custom functions execution chain",
      "description": "As a developer, I need to verify the custom functions code chain: CRUD routes, AI wizard, MCP gateway execution, logging, and PremiumLock gate.",
      "acceptanceCriteria": [
        "IMPORTANT: Code is at ventus-voice/frontend/src/ and ventus-voice/backend/src/ (NOT root frontend/ or backend/)",
        "Find custom function CRUD routes in backend",
        "Verify function creation route saves to database with correct schema",
        "Find MCP gateway/execution layer that runs custom functions during calls",
        "Verify parseToolCall() and executeMCPTool() (or equivalent) exist and are wired",
        "Verify execution logging captures timestamp, input, output, status",
        "Find and verify PremiumLock gate prevents free-tier access",
        "Check if E2E test exists at ventus-voice/frontend/e2e/custom-functions.spec.ts",
        "If any critical code path is broken, fix it",
        "Typecheck passes"
      ],
      "priority": 7,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-208",
      "title": "Verify transcript-to-memory pipeline code",
      "description": "As a developer, I need to verify the transcript-to-memory pipeline is correctly wired: transcript save after call, extraction job, memory store, and RIF scoring.",
      "acceptanceCriteria": [
        "IMPORTANT: Code is at ventus-voice/frontend/src/ and ventus-voice/backend/src/ (NOT root frontend/ or backend/)",
        "Find transcript save logic in session routes or call completion handlers",
        "Verify transcript is persisted to database after call ends",
        "Find extraction job(s) that process transcripts into structured memories",
        "Verify extraction job is registered/scheduled (cron, queue, or triggered)",
        "Find memory store service (SQLite or Prisma-based)",
        "Verify RIF (Relevance-Importance-Freshness) scoring logic exists and is applied",
        "Verify memory retrieval is available during subsequent calls (context injection)",
        "If any critical code path is broken (missing import, dead registration), fix it",
        "Typecheck passes"
      ],
      "priority": 8,
      "passes": false,
      "notes": ""
    }
  ]
}
