{
  "project": "Vora Voice Platform",
  "branchName": "ralph/audit-04-phase-1-ux-cleanup",
  "description": "Phase 1: Wire AgentCreationOverlay into UrlCreationWizard for consistent creation UX + delete dead old brand-analysis.service.ts. IMPORTANT: Code is at ventus-voice/frontend/src/ and ventus-voice/backend/src/ (NOT root frontend/ or backend/).",
  "userStories": [
    {
      "id": "US-001",
      "title": "Wire AgentCreationOverlay into UrlCreationWizard creating step",
      "description": "As a user, I want the URL wizard to show the same polished creation animation as the Forge flow instead of a plain spinner.",
      "acceptanceCriteria": [
        "IMPORTANT: Code is at ventus-voice/frontend/src/ (NOT root frontend/)",
        "In UrlCreationWizard.tsx, import AgentCreationOverlay from @/components/Forge/AgentCreationOverlay",
        "Add two boolean state variables: showForgeOverlay (default false) and forgeComplete (default false)",
        "When entering the creating step (where handleCreateAgent is called), set showForgeOverlay to true",
        "When agent creation succeeds (the polling returns a created agent with an ID), set forgeComplete to true",
        "Add <AgentCreationOverlay isVisible={showForgeOverlay} isComplete={forgeComplete} onComplete={() => { setShowForgeOverlay(false); navigate to the agent page }} /> to the component JSX",
        "The onComplete callback should navigate to /agents/${createdAgentId} (same as current success redirect)",
        "Keep the existing renderCreatingStep as the underlying content -- the overlay covers the full screen at z-50 anyway",
        "On cancel or error, set showForgeOverlay to false to dismiss the overlay",
        "Files: ventus-voice/frontend/src/pages/UrlCreationWizard.tsx",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "Imported AgentCreationOverlay, added showForgeOverlay/forgeComplete state, trigger overlay on creating step, set forgeComplete on success (both sync and async paths), dismiss overlay on cancel/error, onComplete navigates to /agents/${id}. Typecheck passes."
    },
    {
      "id": "US-002",
      "title": "Delete dead old brand-analysis.service.ts",
      "description": "As a developer, I want to remove the dead old brand analysis service that is no longer used by the production job flow.",
      "acceptanceCriteria": [
        "IMPORTANT: Code is at ventus-voice/backend/src/ (NOT root backend/)",
        "Check if ventus-voice/backend/src/services/brand-analysis.service.ts is imported anywhere (grep for brand-analysis.service)",
        "If it has NO imports other than itself, delete the file",
        "If it IS imported somewhere, do NOT delete -- instead add a TODO comment at the top explaining it uses the old scrapeWebsite() path and should be migrated",
        "The NEW service at ventus-voice/backend/src/services/ai/brand-analyzer.service.ts is the production one used by brand-analysis.job.ts",
        "Files: ventus-voice/backend/src/services/brand-analysis.service.ts (DELETE if safe)",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": "Grepped for imports: only test-brand-analysis.ts, brand-analysis-error-integration.test.ts, and a markdown doc imported the old service. No production code uses it. Deleted brand-analysis.service.ts plus the two orphaned test files. The new production service at ai/brand-analyzer.service.ts is used by brand-analysis.job.ts. No new TS errors introduced."
    }
  ]
}
